<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3. Use &mdash; Air Quality Device  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/ds-custom.css" type="text/css" />
    <link rel="shortcut icon" href="_static/DS_favicon_32x32.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Debugging" href="debugging.html" />
    <link rel="prev" title="2. Configuration" href="configuration.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Air Quality Device
            <img src="_static/DS_logo_200w.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">2. Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#editing">2.1. Editing</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#base-config">2.2. Base config</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#mandatory">2.2.1. Mandatory</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#optional">2.2.2. Optional</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#sensor-config">2.3. Sensor config</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#no2">2.3.1. NO2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#gps">2.4. GPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#csv-logging">2.5. CSV logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#mqtt">2.6. MQTT</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#cloud-integration">2.7. Cloud integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#private-dashboards">2.7.1. Private dashboards</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#public-dashboards">2.7.2. Public dashboards</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#complete-example">2.8. Complete example</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic">3.1. Basic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#device-dashboard">3.1.1. Device dashboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lan-dashboard">3.1.2. LAN dashboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="#csv-logging">3.1.3. CSV logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gps">3.1.4. GPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shutting-down">3.1.5. Shutting down</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restarting">3.1.6. Restarting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mqtt">3.2. MQTT</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">4. Debugging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="debugging.html#status">4.1. Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html#debug-mode">4.2. Debug mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html#typical-problems">4.3. Typical problems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">5. Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#user-account">5.1. User account</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#mqtt">5.2. MQTT</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#websocket-api">5.3. WebSocket API</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Air Quality Device</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">3. </span>Use</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/DesignSparkRS/aq-device/blob/master//docs/ use.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="use">
<h1><span class="section-number">3. </span>Use<a class="headerlink" href="#use" title="Permalink to this headline"></a></h1>
<section id="basic">
<h2><span class="section-number">3.1. </span>Basic<a class="headerlink" href="#basic" title="Permalink to this headline"></a></h2>
<section id="device-dashboard">
<h3><span class="section-number">3.1.1. </span>Device dashboard<a class="headerlink" href="#device-dashboard" title="Permalink to this headline"></a></h3>
<p>Upon powering up there will be a short delay and following which sensor readings will shown on the display. If you have a v1.0 or later Main board (see the silkscreen labelling) the buzzer will also sound upon startup.</p>
<p>If the screensaver is activated, simply touch the screen to wake up.</p>
<p>If you have an NO2 Sensor, Nuclear Radiation Detector or Formaldehyde Sensor, readings for these are accessed via the second screen and use the inner two physical buttons to navigate between screens.</p>
<p>Tap a sensor statistics panel to switch to a plot view and tap again to revert.</p>
<p>The debug screen can be accessed via a long press on the touch screen, following which a short press will switch to the second debug page. Another long press will return to the dashboard.</p>
</section>
<section id="lan-dashboard">
<h3><span class="section-number">3.1.2. </span>LAN dashboard<a class="headerlink" href="#lan-dashboard" title="Permalink to this headline"></a></h3>
<p>It is also possible to access a web dashboard via the local area network, by pointing a browser at the URL:</p>
<p><a class="reference external" href="http://airquality.local">http://airquality.local</a></p>
<p>Plot traces my be toggled on and off by clicking on their legend. This can prove useful with sensors such as PM2, where there are multiple lines which may not be easy to distinguish from each other.</p>
<p>A debug screen may be accessed via the Debug tab.</p>
</section>
<section id="csv-logging">
<h3><span class="section-number">3.1.3. </span>CSV logging<a class="headerlink" href="#csv-logging" title="Permalink to this headline"></a></h3>
<p>In addition to being configured via <code class="code docutils literal notranslate"><span class="pre">aq.toml</span></code> to start at boot time, CSV logging may be enabled by pressing the top physical button, and disabled again via a second press.</p>
<p>A small flashing icon will be present in the top-right corner of the device screen when CSV logging is enabled.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There may be a delay of a few seconds after a button press before logging is started/stopped, hence avoid repeatedly pressing.</p>
</div>
</section>
<section id="gps">
<h3><span class="section-number">3.1.4. </span>GPS<a class="headerlink" href="#gps" title="Permalink to this headline"></a></h3>
<p>If GPS has been enabled and the ESDK has a fix, a small cross hairs icon will be present in the top-right corner of the device screen.</p>
<p>GPS satellite status and position is available via the debug screen.</p>
</section>
<section id="shutting-down">
<h3><span class="section-number">3.1.5. </span>Shutting down<a class="headerlink" href="#shutting-down" title="Permalink to this headline"></a></h3>
<p>The Raspberry Pi should be properly shut down before removing power. This can be done by pressing the bottom of the four black buttons.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Failure to shut down before removing power may result in data loss.</p>
</div>
</section>
<section id="restarting">
<h3><span class="section-number">3.1.6. </span>Restarting<a class="headerlink" href="#restarting" title="Permalink to this headline"></a></h3>
<p>If the device needs to be restarted, e.g. after making configuration changes, the following procedure should be used:</p>
<ol class="arabic simple">
<li><p>Shut down</p></li>
<li><p>Remove power</p></li>
<li><p>Reconnect power</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Soft reboot (without power cycling) will result in the CO2 sensor going offline.</p>
</div>
</section>
</section>
<section id="mqtt">
<h2><span class="section-number">3.2. </span>MQTT<a class="headerlink" href="#mqtt" title="Permalink to this headline"></a></h2>
<p>MQTT functionality can be tested by connecting via SSH and entering at the command prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mosquitto_sub</span> <span class="o">-</span><span class="n">h</span> <span class="n">localhost</span> <span class="o">-</span><span class="n">t</span> <span class="s1">&#39;#&#39;</span>
</pre></div>
</div>
<p>Or Alternatively using an MQTT client on another computer and connecting to host <code class="code docutils literal notranslate"><span class="pre">airquality.local</span></code>.</p>
<p>Sensor readings should be printed out every 5 seconds.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="configuration.html" class="btn btn-neutral float-left" title="2. Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="debugging.html" class="btn btn-neutral float-right" title="4. Debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, RS Components.
      <span class="lastupdated">Last updated on Oct 06, 2024.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>